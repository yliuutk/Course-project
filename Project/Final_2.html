<!DOCTYPE html>
<!-- saved from url=(0081)file:///C:/Users/YANGLI~1/AppData/Local/Temp/RtmpIFkzhg/preview-4264506e2735.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



<meta name="generator" content="pandoc">
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="exploring-wind-farm-data-ii-maintenance-event-detection-or-anomaly-detection">Exploring wind farm data (II): Maintenance event detection or anomaly detection</h1>
<h2 id="i-introduction-of-the-three-posts">I. Introduction of the three posts</h2>
<p>The three posts try to expore 10 large sets of wind farm data where each one contains 16,800 data points. Although based on the same data set, the three posts focus on differents aspects.</p>
<blockquote>
<p>Post 1 focuses on the data preprocessing, visualization and some preliminary analysis.</p>
</blockquote>
<blockquote>
<p>Post 2 focuses on a practical method for anomaly detection or maintenance event detection.</p>
</blockquote>
<blockquote>
<p>Post 3 focues on the cluster analysis.</p>
</blockquote>
<p>The purpose of these three posts are threefolds.</p>
<blockquote>
<p>First, they are final projects in my data mining class and each post focuses on different aspects of what we learnt in the class.</p>
</blockquote>
<blockquote>
<p>Second, they aim at providing the wind farm owners and electric power system operaters with some insights from the huge data sets.</p>
</blockquote>
<blockquote>
<p>Finally, they can serve as tutorials for 1st year PhD student in power/energy/electrical engineering, so that they can have a basic idea to deal with the realistic wind power data in their course/reserach projects.</p>
</blockquote>
<p>The following sections are organized as follows.</p>
<blockquote>
<p>Section II introduces input data of this post 2.</p>
</blockquote>
<blockquote>
<p>Section III gives the problem description of post 2.</p>
</blockquote>
<blockquote>
<p>Section IV introduces the existing methods and the method used in this post</p>
</blockquote>
<blockquote>
<p>Section V conducts the anomaly detection</p>
</blockquote>
<h2 id="ii-input-data">II. Input Data</h2>
<h3 id="1-data-source">1 Data source</h3>
<p>The data comes from Ref [1] and can be downloaded by the link in [2].</p>
<blockquote>
<p>[1] Tao Hong, Pierre Pinson, Shu Fan, Hamidreza Zareipour, Alberto Troccoli and Rob J. Hyndman, “Probabilistic energy forecasting: Global Energy Forecasting Competition 2014 and beyond”, International Journal of Forecasting, vol.32, no.3, pp 896-913, July-September, 2016.</p>
</blockquote>
<blockquote>
<p>[2] <a href="http://blog.drhongtao.com/2017/03/gefcom2014-load-forecasting-data.html">http://blog.drhongtao.com/2017/03/gefcom2014-load-forecasting-data.html</a></p>
</blockquote>
<p>It is orignally prepared for a global competition. The wind farm data used in this post can be obtained by following steps. We select the data for Task 15 because it contains the largest number of data points.</p>
<blockquote>
<ol>
<li>unzip the file “GEFCom2014-W_V2.zip”</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>go the the directory: wind &gt;&gt; Task15&gt;&gt;Task15_W_Zone1_10</li>
</ol>
</blockquote>
<h3 id="2-input-data-of-post-2">2 Input data of post 2</h3>
<p>The input data of post 2 is the data saved after data preprocessing in post 1 (named as Raw_Data.Rdata). It can be accessed from the directory “./RData/Raw_Data.Rdata”.</p>
<p>It has combined the 10 wind farm data togehter, has converted some attributes and added some new attributes. Finally, the resulted data set contains 168,000 data points and attributes are explanied below.</p>
<blockquote>
<p>1 TIMESTAMP. It is in the format of “20120101 1:00” which gives the year, month, date and hour information.</p>
</blockquote>
<blockquote>
<p>2-5 YEAR, MONTH, DAY, HOUR. Added attributes</p>
</blockquote>
<blockquote>
<p>6 ZONEID. Index of wind farm</p>
</blockquote>
<blockquote>
<p>7 TARGETVAR. It means wind power generation, which has been normalized by the nominal capacities of each wind farm.</p>
</blockquote>
<blockquote>
<p>8-9 U10 and V10. They means the wind speeds along u and v directions at the height of 10 meters. The u and v directions refer to zonal and meridionoal directions.</p>
</blockquote>
<blockquote>
<p>10 WS10. Wind speed at 10 meters height</p>
</blockquote>
<blockquote>
<p>11 WD10. Wind direction at 10 meters height</p>
</blockquote>
<blockquote>
<p>12-13 U100 and V100. Similar with U10 and V10, but they mean the wind speed measured at the height of 100 meters.</p>
</blockquote>
<blockquote>
<p>14 WS100. Wind speed at 100 meters height</p>
</blockquote>
<blockquote>
<p>15 WD100. Wind direction at 100 meters height</p>
</blockquote>
<h2 id="iii-problem-description">III. Problem description</h2>
<p>Due to the climate change, the traditional energy resources are gradually replaced by renewable energies in recent years. The most promising renewable energy is wind power. However, the wind has very strong stochastic attribute and the wind power is very hard to be accurately predicted. This poses a great challenge to electric power system operators and may make the power system not secure any more. To ensure the secure operation, we need to improve the wind power forecasting accuracy. There are many efforts in the power system community.</p>
<p>Especially, in the wind power forecasting, it is very important to perform maintenance event detection to have a high-quality data set for analysis. The detected maitenance events are also useful for wind farm owners to improve their situational awareness and make better decisions.</p>
<h2 id="iv-existing-methods">IV. Existing methods</h2>
<p>Wind farms are under maintance regularly. During maintance, it can be happen in the data set that the wind speed is very high but the wind power is zero. The data related to maintance should be removed before further data analysis.</p>
<p>Some existing techniques adopt a very aggresive way to remove all data points whose wind power is zero and wind speed is very high. However, this may remove too many data points and deteriorate the data quality. It may wrongly detect some normal data as outliers. For example, in normal operations, the high-speed-zero-power situation can also happen when the protection of wind turbine is activated during very high wind speed.</p>
<p>In this post, we adopts a more conservative way given in [1] to detect the outliers. The basic idea is that: Outliers (or maitanance events) are detected only when the wind powers remain zero while wind speeds remain high for consecutive X hours or more. The X can be 12, 24, 36, 48, etc depending on the experience of how long the maintance will take.This kind of outlier detection method is more flexible and more practical for wind farm owners and power system operators.</p>
<blockquote>
<p>[1] Zhang, Y., &amp; Wang, J. (2016). K-nearest neighbors and a kernel density estimator for GEFCom2014 probabilistic wind power forecasting. International Journal of forecasting, 32(3), 1074-1080.</p>
</blockquote>
<h2 id="v-anomaly-detection">V. Anomaly detection</h2>
<h3 id="1-read-the-input-data">1 Read the input data</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">load</span>(<span class="kw">paste</span>(<span class="st">"./RData/Raw_Data.Rdata"</span>,<span class="dt">sep=</span><span class="st">""</span>))</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">raw_data   &lt;-<span class="st"> </span>data  <span class="co">## the data before the anomaly detection</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">clean_data &lt;-<span class="st"> </span><span class="ot">NULL</span>      <span class="co">## the data after the anomaly detection</span></a></code></pre></div>
<h3 id="2-data-visualization-for-each-wind-farm">2 Data visualization for each wind farm</h3>
<p>By looking at the scatter plot of wind power and wind speed (average of wind speed at 10 meters and 100 meters height), we can have an idea of the outliers in the data set.</p>
<p>For simplicity, only the data of wind farm #8 are visualized as an example. The figure shows that most of the data fall into the balck region. This region is closely to a three-order polynomial function, which coincides with the theoritical analysis. However, there are many points in the bottom right, whose wind speed is very large but the wind power is zero. They are very likely to be outliers.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">ZONEID &lt;-<span class="st"> </span><span class="dv">8</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">zone_data &lt;-<span class="st"> </span>data[data<span class="op">$</span>ZONEID<span class="op">==</span>ZONEID, ]</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">plot</span>((zone_data<span class="op">$</span>WS100<span class="op">+</span>zone_data<span class="op">$</span>WS10)<span class="op">/</span><span class="dv">2</span>,zone_data<span class="op">$</span>TARGETVAR)</a></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<h3 id="2-event-detection-using-48-consecutive-hours-criteria">2 Event detection using 48 consecutive hours criteria</h3>
<p>To further confirm the outliers in each wind farm, we used the criteria of 48 consecutive hours. In the R code below, the part of implementing this criteria is requested from the author of [1] who proposed it.</p>
<blockquote>
<p>[1] Zhang, Y., &amp; Wang, J. (2016). K-nearest neighbors and a kernel density estimator for GEFCom2014 probabilistic wind power forecasting. International Journal of forecasting, 32(3), 1074-1080.</p>
</blockquote>
<p>The meaning of the output is explained below.</p>
<blockquote>
<p>The output is a outliers list for each wind farm. If a wind farm has no outlier data, it will not be put in the output.</p>
</blockquote>
<blockquote>
<p>For each outlier list, the 1st and 2nd columns mean the data point index of start and end. In other words, for all data points between them, the wind power is zero.</p>
</blockquote>
<blockquote>
<p>The 3rd column mean the length of the outlier data points. For example, in wind farm #2, 177 means there are consecutive 177 hours where the wind power is zero.</p>
</blockquote>
<blockquote>
<p>The 4th and 5th column mean the start time stamp and the end time stamp in the format of original data.</p>
</blockquote>
<p>The results below show that:</p>
<blockquote>
<p>Only wind farm #2, #5, #8, #9 has outliers (or maintenance events) based on 48 hours criteria</p>
</blockquote>
<blockquote>
<p>Wind farm #2,#5, #8 and #9 has 2,1,4,4 maintenance events respecitvely.</p>
</blockquote>
<blockquote>
<p>Wind farm #2 has the longest single maintenance event lasting 177 hours and the second longest single event is 132 hours for wind farm #8.</p>
</blockquote>
<blockquote>
<p>The total number of maintenance is 11 times. From their distribution in wind farms, we can see that, wind farm #8 and 9 are more frequently maintained (4 times).</p>
</blockquote>
<blockquote>
<p>The total hours of maintenance is 790 hours. From their distribution in wind farms, we can see that, wind farm #8 has the longest total maintenance hours (285 hours).</p>
</blockquote>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">FarmNo &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>   <span class="co"># we have ten wind farms</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">MAX_LENGTH &lt;-<span class="st"> </span><span class="dv">48</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">OUTLIER_LIST &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">WF1=</span><span class="ot">NULL</span>, <span class="dt">WF2=</span><span class="ot">NULL</span>, <span class="dt">WF3=</span><span class="ot">NULL</span>, <span class="dt">WF4=</span><span class="ot">NULL</span>, <span class="dt">WF5=</span><span class="ot">NULL</span>, <span class="dt">WF6=</span><span class="ot">NULL</span>, <span class="dt">WF7=</span><span class="ot">NULL</span>, <span class="dt">WF8=</span><span class="ot">NULL</span>, <span class="dt">WF9=</span><span class="ot">NULL</span>, <span class="dt">WF10=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">START=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">LENGTH=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">START_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>))</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  zone_data &lt;-<span class="st"> </span>data[data<span class="op">$</span>ZONEID<span class="op">==</span>ZONEID, ]</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">  zero_index &lt;-<span class="st"> </span><span class="kw">which</span>(zone_data<span class="op">$</span>TARGETVAR<span class="op">==</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  m &lt;-<span class="st"> </span><span class="kw">length</span>(zero_index)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb3-13" data-line-number="13">  i &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14">  temp &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  <span class="cf">while</span>(i <span class="op">&lt;</span><span class="st"> </span>m)</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">  {</a>
<a class="sourceLine" id="cb3-17" data-line-number="17">    start &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">    <span class="cf">while</span>((zero_index[i<span class="op">+</span><span class="dv">1</span>]<span class="op">==</span>(zero_index[i]<span class="op">+</span><span class="dv">1</span>))<span class="op">&amp;</span>((i<span class="op">+</span><span class="dv">1</span>)<span class="op">&lt;=</span>m)) i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19">    end &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">    <span class="cf">if</span>(start<span class="op">!=</span>end)</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">    {</a>
<a class="sourceLine" id="cb3-22" data-line-number="22">      start_index &lt;-<span class="st"> </span>zero_index[start]</a>
<a class="sourceLine" id="cb3-23" data-line-number="23">      end_index   &lt;-<span class="st"> </span>zero_index[end]</a>
<a class="sourceLine" id="cb3-24" data-line-number="24">      start_end   &lt;-<span class="st"> </span>end_index<span class="op">-</span>start_index<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25">      <span class="cf">if</span>(start_end <span class="op">&gt;=</span><span class="st"> </span>MAX_LENGTH)</a>
<a class="sourceLine" id="cb3-26" data-line-number="26">      {</a>
<a class="sourceLine" id="cb3-27" data-line-number="27">        temp &lt;-<span class="st"> </span>temp <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[temp]  &lt;-<span class="st"> </span>start_index</a>
<a class="sourceLine" id="cb3-29" data-line-number="29">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[temp]    &lt;-<span class="st"> </span>end_index</a>
<a class="sourceLine" id="cb3-30" data-line-number="30">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH[temp] &lt;-<span class="st"> </span>start_end</a>
<a class="sourceLine" id="cb3-31" data-line-number="31">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START_TIMESTAMP[temp]  &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[start_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb3-32" data-line-number="32">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END_TIMESTAMP[temp]    &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[end_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb3-33" data-line-number="33">      }</a>
<a class="sourceLine" id="cb3-34" data-line-number="34">    }</a>
<a class="sourceLine" id="cb3-35" data-line-number="35">    i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36">  }</a>
<a class="sourceLine" id="cb3-37" data-line-number="37">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]][<span class="op">-</span>((temp<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span><span class="dv">20</span>), ]</a>
<a class="sourceLine" id="cb3-38" data-line-number="38"></a>
<a class="sourceLine" id="cb3-39" data-line-number="39">  </a>
<a class="sourceLine" id="cb3-40" data-line-number="40">  outlier_amount &lt;-<span class="st"> </span><span class="kw">dim</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb3-41" data-line-number="41">  <span class="cf">if</span>(outlier_amount <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb3-42" data-line-number="42">  {</a>
<a class="sourceLine" id="cb3-43" data-line-number="43">    vec &lt;-<span class="st"> </span><span class="kw">vector</span>()</a>
<a class="sourceLine" id="cb3-44" data-line-number="44">    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>outlier_amount)</a>
<a class="sourceLine" id="cb3-45" data-line-number="45">    {</a>
<a class="sourceLine" id="cb3-46" data-line-number="46">      start_index &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[i]</a>
<a class="sourceLine" id="cb3-47" data-line-number="47">      end_index   &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[i]</a>
<a class="sourceLine" id="cb3-48" data-line-number="48">      vec &lt;-<span class="st"> </span><span class="kw">c</span>(vec, <span class="op">-</span>start_index<span class="op">:-</span>end_index)</a>
<a class="sourceLine" id="cb3-49" data-line-number="49">    }</a>
<a class="sourceLine" id="cb3-50" data-line-number="50">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data[ vec, ])</a>
<a class="sourceLine" id="cb3-51" data-line-number="51">    <span class="kw">cat</span>(<span class="st">"Wind Farm #"</span>, ZONEID, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="dt">sep=</span><span class="st">""</span>)</a>
<a class="sourceLine" id="cb3-52" data-line-number="52">    <span class="kw">print</span>(OUTLIER_LIST[[ZONEID]])</a>
<a class="sourceLine" id="cb3-53" data-line-number="53">    <span class="kw">cat</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb3-54" data-line-number="54">  }</a>
<a class="sourceLine" id="cb3-55" data-line-number="55">  <span class="cf">else</span></a>
<a class="sourceLine" id="cb3-56" data-line-number="56">  {</a>
<a class="sourceLine" id="cb3-57" data-line-number="57">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data)</a>
<a class="sourceLine" id="cb3-58" data-line-number="58">  }</a>
<a class="sourceLine" id="cb3-59" data-line-number="59">}</a></code></pre></div>
<pre><code>## Wind Farm #2
##   START   END LENGTH START_TIMESTAMP  END_TIMESTAMP
## 1 15839 16015    177  20131021 23:00 20131029 07:00
## 2 16128 16182     55  20131103 00:00 20131105 06:00
## 
## Wind Farm #5
##   START  END LENGTH START_TIMESTAMP  END_TIMESTAMP
## 1  2567 2620     54  20120416 23:00 20120419 04:00
## 
## Wind Farm #8
##   START   END LENGTH START_TIMESTAMP  END_TIMESTAMP
## 1  2806  2937    132  20120426 22:00 20120502 09:00
## 2 11935 11982     48  20130512 07:00 20130514 06:00
## 3 15024 15080     57  20130918 00:00 20130920 08:00
## 4 15418 15465     48  20131004 10:00 20131006 09:00
## 
## Wind Farm #9
##   START  END LENGTH START_TIMESTAMP  END_TIMESTAMP
## 1  3565 3614     50  20120528 13:00 20120530 14:00
## 2  4421 4473     53  20120703 05:00 20120705 09:00
## 3  4860 4914     55  20120721 12:00 20120723 18:00
## 4  7101 7161     61  20121022 21:00 20121025 09:00
</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">save</span>(clean_data,<span class="dt">file=</span><span class="kw">paste</span>(<span class="st">"./RData/Clean_Data.Rdata"</span>,<span class="dt">sep=</span><span class="st">""</span>))</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">freq48 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">dura48 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">freq48[ZONEID] &lt;-<span class="st"> </span><span class="kw">nrow</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">dura48[ZONEID] &lt;-<span class="st"> </span><span class="kw">sum</span>(OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="kw">sum</span>(freq48)</a></code></pre></div>
<pre><code>## [1] 11
</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">sum</span>(dura48)</a></code></pre></div>
<pre><code>## [1] 790
</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">freq &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, freq48)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">dura &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, dura48)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">freq</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## freq48    0    2    0    0    1    0    0    4    4     0
</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">dura</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## dura48    0  232    0    0   54    0    0  285  219     0
</code></pre>
<h3 id="3-impact-of-number-of-consecutive-hours-on-detection-results">3 Impact of number of consecutive hours on detection results</h3>
<p>When using other hours consecutive hours as the criteria, the detected event results will be different.</p>
<p>When the maintenance event is defined that wind power remains zero for 36 consecutive hours, then we have the following findings. Note that the outlier lists are not shown for simplicity.</p>
<blockquote>
<p>Besides wind farm #2,#5,#8,#9, the wind farm #7 will also has outliers (or maintenance events)</p>
</blockquote>
<blockquote>
<p>The number of events of Wind farm #2,#5,#7, #8 and #9 are increased to 3,2,1,7,7 respecitvely.</p>
</blockquote>
<blockquote>
<p>Wind farm #2 still has the longest single maintenance event lasting 177 hours and the second longest event is still 132 hours for wind farm #8.</p>
</blockquote>
<blockquote>
<p>The total number of maintenance is increased to 20 times. From their distribution in wind farms, we can see that, wind farm #8 and 9 are still the most frequently maintained (7 times for both).</p>
</blockquote>
<blockquote>
<p>The total hours of maintenance is increased to 1156 hours. From their distribution in wind farms, we can see that, wind farm #8 has the longest total maintenance hours (410 hours).</p>
</blockquote>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">FarmNo &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>   <span class="co"># we have ten wind farms</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">MAX_LENGTH &lt;-<span class="st"> </span><span class="dv">36</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">OUTLIER_LIST &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">WF1=</span><span class="ot">NULL</span>, <span class="dt">WF2=</span><span class="ot">NULL</span>, <span class="dt">WF3=</span><span class="ot">NULL</span>, <span class="dt">WF4=</span><span class="ot">NULL</span>, <span class="dt">WF5=</span><span class="ot">NULL</span>, <span class="dt">WF6=</span><span class="ot">NULL</span>, <span class="dt">WF7=</span><span class="ot">NULL</span>, <span class="dt">WF8=</span><span class="ot">NULL</span>, <span class="dt">WF9=</span><span class="ot">NULL</span>, <span class="dt">WF10=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">START=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">LENGTH=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">START_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>))</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">  zone_data &lt;-<span class="st"> </span>data[data<span class="op">$</span>ZONEID<span class="op">==</span>ZONEID, ]</a>
<a class="sourceLine" id="cb13-9" data-line-number="9">  zero_index &lt;-<span class="st"> </span><span class="kw">which</span>(zone_data<span class="op">$</span>TARGETVAR<span class="op">==</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb13-10" data-line-number="10">  m &lt;-<span class="st"> </span><span class="kw">length</span>(zero_index)</a>
<a class="sourceLine" id="cb13-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb13-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb13-13" data-line-number="13">  i &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14">  temp &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15">  <span class="cf">while</span>(i <span class="op">&lt;</span><span class="st"> </span>m)</a>
<a class="sourceLine" id="cb13-16" data-line-number="16">  {</a>
<a class="sourceLine" id="cb13-17" data-line-number="17">    start &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb13-18" data-line-number="18">    <span class="cf">while</span>((zero_index[i<span class="op">+</span><span class="dv">1</span>]<span class="op">==</span>(zero_index[i]<span class="op">+</span><span class="dv">1</span>))<span class="op">&amp;</span>((i<span class="op">+</span><span class="dv">1</span>)<span class="op">&lt;=</span>m)) i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-19" data-line-number="19">    end &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb13-20" data-line-number="20">    <span class="cf">if</span>(start<span class="op">!=</span>end)</a>
<a class="sourceLine" id="cb13-21" data-line-number="21">    {</a>
<a class="sourceLine" id="cb13-22" data-line-number="22">      start_index &lt;-<span class="st"> </span>zero_index[start]</a>
<a class="sourceLine" id="cb13-23" data-line-number="23">      end_index   &lt;-<span class="st"> </span>zero_index[end]</a>
<a class="sourceLine" id="cb13-24" data-line-number="24">      start_end   &lt;-<span class="st"> </span>end_index<span class="op">-</span>start_index<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-25" data-line-number="25">      <span class="cf">if</span>(start_end <span class="op">&gt;=</span><span class="st"> </span>MAX_LENGTH)</a>
<a class="sourceLine" id="cb13-26" data-line-number="26">      {</a>
<a class="sourceLine" id="cb13-27" data-line-number="27">        temp &lt;-<span class="st"> </span>temp <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-28" data-line-number="28">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[temp]  &lt;-<span class="st"> </span>start_index</a>
<a class="sourceLine" id="cb13-29" data-line-number="29">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[temp]    &lt;-<span class="st"> </span>end_index</a>
<a class="sourceLine" id="cb13-30" data-line-number="30">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH[temp] &lt;-<span class="st"> </span>start_end</a>
<a class="sourceLine" id="cb13-31" data-line-number="31">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START_TIMESTAMP[temp]  &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[start_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb13-32" data-line-number="32">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END_TIMESTAMP[temp]    &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[end_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb13-33" data-line-number="33">      }</a>
<a class="sourceLine" id="cb13-34" data-line-number="34">    }</a>
<a class="sourceLine" id="cb13-35" data-line-number="35">    i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb13-36" data-line-number="36">  }</a>
<a class="sourceLine" id="cb13-37" data-line-number="37">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]][<span class="op">-</span>((temp<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span><span class="dv">20</span>), ]</a>
<a class="sourceLine" id="cb13-38" data-line-number="38"></a>
<a class="sourceLine" id="cb13-39" data-line-number="39">  </a>
<a class="sourceLine" id="cb13-40" data-line-number="40">  outlier_amount &lt;-<span class="st"> </span><span class="kw">dim</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb13-41" data-line-number="41">  <span class="cf">if</span>(outlier_amount <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb13-42" data-line-number="42">  {</a>
<a class="sourceLine" id="cb13-43" data-line-number="43">    vec &lt;-<span class="st"> </span><span class="kw">vector</span>()</a>
<a class="sourceLine" id="cb13-44" data-line-number="44">    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>outlier_amount)</a>
<a class="sourceLine" id="cb13-45" data-line-number="45">    {</a>
<a class="sourceLine" id="cb13-46" data-line-number="46">      start_index &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[i]</a>
<a class="sourceLine" id="cb13-47" data-line-number="47">      end_index   &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[i]</a>
<a class="sourceLine" id="cb13-48" data-line-number="48">      vec &lt;-<span class="st"> </span><span class="kw">c</span>(vec, <span class="op">-</span>start_index<span class="op">:-</span>end_index)</a>
<a class="sourceLine" id="cb13-49" data-line-number="49">    }</a>
<a class="sourceLine" id="cb13-50" data-line-number="50">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data[ vec, ])</a>
<a class="sourceLine" id="cb13-51" data-line-number="51">    <span class="co">#cat("Wind Farm #", ZONEID, "\n", sep="")</span></a>
<a class="sourceLine" id="cb13-52" data-line-number="52">    <span class="co">#print(OUTLIER_LIST[[ZONEID]])</span></a>
<a class="sourceLine" id="cb13-53" data-line-number="53">    <span class="co">#cat("\n")</span></a>
<a class="sourceLine" id="cb13-54" data-line-number="54">  }</a>
<a class="sourceLine" id="cb13-55" data-line-number="55">  <span class="cf">else</span></a>
<a class="sourceLine" id="cb13-56" data-line-number="56">  {</a>
<a class="sourceLine" id="cb13-57" data-line-number="57">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data)</a>
<a class="sourceLine" id="cb13-58" data-line-number="58">  }</a>
<a class="sourceLine" id="cb13-59" data-line-number="59">}</a>
<a class="sourceLine" id="cb13-60" data-line-number="60"></a>
<a class="sourceLine" id="cb13-61" data-line-number="61">freq36 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb13-62" data-line-number="62">dura36 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb13-63" data-line-number="63"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb13-64" data-line-number="64">{</a>
<a class="sourceLine" id="cb13-65" data-line-number="65">freq36[ZONEID] &lt;-<span class="st"> </span><span class="kw">nrow</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb13-66" data-line-number="66">dura36[ZONEID] &lt;-<span class="st"> </span><span class="kw">sum</span>(OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH)</a>
<a class="sourceLine" id="cb13-67" data-line-number="67">}</a>
<a class="sourceLine" id="cb13-68" data-line-number="68"><span class="kw">sum</span>(freq36)</a></code></pre></div>
<pre><code>## [1] 20
</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">sum</span>(dura36)</a></code></pre></div>
<pre><code>## [1] 1156
</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">freq &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, freq36)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">dura &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, dura36)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">freq</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## freq36    0    3    0    0    2    0    1    7    7     0
</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">dura</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## dura36    0  274    0    0   91    0   38  410  343     0
</code></pre>
<p>When the maintenance event is defined that wind power remains zero for 24 consecutive hours, then we have the following findings.</p>
<blockquote>
<p>Both wind farm #1,#2,#4,#5,#6,#7,#8,#9 will are detected maintenance events. Wind farm #1,#4,#6 are newly detected.</p>
</blockquote>
<blockquote>
<p>The number of events of these are increased to 1,3,1,2,1,3,9,13 respecitvely.</p>
</blockquote>
<blockquote>
<p>Wind farm #2 still has the longest single maintenance event lasting 177 hours and the second longest event is still 132 hours for wind farm #8.</p>
</blockquote>
<blockquote>
<p>The total number of maintenance is increased to 33 times. From their distribution in wind farms, we can see that, wind farm #9 becomes the most frequently maintained (13 times), while wind farm #8 is the second most frequently maintained (9 times)</p>
</blockquote>
<blockquote>
<p>The total hours of maintenance is increased to 1551 hours. From their distribution in wind farms, we can see that, wind farm #8 has the longest total maintenance hours (466 hours).</p>
</blockquote>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">FarmNo &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>   <span class="co"># we have ten wind farms</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">MAX_LENGTH &lt;-<span class="st"> </span><span class="dv">24</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">OUTLIER_LIST &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">WF1=</span><span class="ot">NULL</span>, <span class="dt">WF2=</span><span class="ot">NULL</span>, <span class="dt">WF3=</span><span class="ot">NULL</span>, <span class="dt">WF4=</span><span class="ot">NULL</span>, <span class="dt">WF5=</span><span class="ot">NULL</span>, <span class="dt">WF6=</span><span class="ot">NULL</span>, <span class="dt">WF7=</span><span class="ot">NULL</span>, <span class="dt">WF8=</span><span class="ot">NULL</span>, <span class="dt">WF9=</span><span class="ot">NULL</span>, <span class="dt">WF10=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb21-4" data-line-number="4"></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb21-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb21-7" data-line-number="7">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">START=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">LENGTH=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">START_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>), <span class="dt">END_TIMESTAMP=</span><span class="kw">rep</span>(<span class="ot">NA</span>,<span class="dv">20</span>))</a>
<a class="sourceLine" id="cb21-8" data-line-number="8">  zone_data &lt;-<span class="st"> </span>data[data<span class="op">$</span>ZONEID<span class="op">==</span>ZONEID, ]</a>
<a class="sourceLine" id="cb21-9" data-line-number="9">  zero_index &lt;-<span class="st"> </span><span class="kw">which</span>(zone_data<span class="op">$</span>TARGETVAR<span class="op">==</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb21-10" data-line-number="10">  m &lt;-<span class="st"> </span><span class="kw">length</span>(zero_index)</a>
<a class="sourceLine" id="cb21-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb21-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb21-13" data-line-number="13">  i &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb21-14" data-line-number="14">  temp &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb21-15" data-line-number="15">  <span class="cf">while</span>(i <span class="op">&lt;</span><span class="st"> </span>m)</a>
<a class="sourceLine" id="cb21-16" data-line-number="16">  {</a>
<a class="sourceLine" id="cb21-17" data-line-number="17">    start &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb21-18" data-line-number="18">    <span class="cf">while</span>((zero_index[i<span class="op">+</span><span class="dv">1</span>]<span class="op">==</span>(zero_index[i]<span class="op">+</span><span class="dv">1</span>))<span class="op">&amp;</span>((i<span class="op">+</span><span class="dv">1</span>)<span class="op">&lt;=</span>m)) i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb21-19" data-line-number="19">    end &lt;-<span class="st"> </span>i</a>
<a class="sourceLine" id="cb21-20" data-line-number="20">    <span class="cf">if</span>(start<span class="op">!=</span>end)</a>
<a class="sourceLine" id="cb21-21" data-line-number="21">    {</a>
<a class="sourceLine" id="cb21-22" data-line-number="22">      start_index &lt;-<span class="st"> </span>zero_index[start]</a>
<a class="sourceLine" id="cb21-23" data-line-number="23">      end_index   &lt;-<span class="st"> </span>zero_index[end]</a>
<a class="sourceLine" id="cb21-24" data-line-number="24">      start_end   &lt;-<span class="st"> </span>end_index<span class="op">-</span>start_index<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb21-25" data-line-number="25">      <span class="cf">if</span>(start_end <span class="op">&gt;=</span><span class="st"> </span>MAX_LENGTH)</a>
<a class="sourceLine" id="cb21-26" data-line-number="26">      {</a>
<a class="sourceLine" id="cb21-27" data-line-number="27">        temp &lt;-<span class="st"> </span>temp <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb21-28" data-line-number="28">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[temp]  &lt;-<span class="st"> </span>start_index</a>
<a class="sourceLine" id="cb21-29" data-line-number="29">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[temp]    &lt;-<span class="st"> </span>end_index</a>
<a class="sourceLine" id="cb21-30" data-line-number="30">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH[temp] &lt;-<span class="st"> </span>start_end</a>
<a class="sourceLine" id="cb21-31" data-line-number="31">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START_TIMESTAMP[temp]  &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[start_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb21-32" data-line-number="32">        OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END_TIMESTAMP[temp]    &lt;-<span class="st"> </span><span class="kw">format</span>(zone_data<span class="op">$</span>TIMESTAMP[end_index], <span class="st">"%Y%m%d %H:%M"</span>)</a>
<a class="sourceLine" id="cb21-33" data-line-number="33">      }</a>
<a class="sourceLine" id="cb21-34" data-line-number="34">    }</a>
<a class="sourceLine" id="cb21-35" data-line-number="35">    i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb21-36" data-line-number="36">  }</a>
<a class="sourceLine" id="cb21-37" data-line-number="37">  OUTLIER_LIST[[ZONEID]] &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]][<span class="op">-</span>((temp<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span><span class="dv">20</span>), ]</a>
<a class="sourceLine" id="cb21-38" data-line-number="38"></a>
<a class="sourceLine" id="cb21-39" data-line-number="39">  </a>
<a class="sourceLine" id="cb21-40" data-line-number="40">  outlier_amount &lt;-<span class="st"> </span><span class="kw">dim</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb21-41" data-line-number="41">  <span class="cf">if</span>(outlier_amount <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb21-42" data-line-number="42">  {</a>
<a class="sourceLine" id="cb21-43" data-line-number="43">    vec &lt;-<span class="st"> </span><span class="kw">vector</span>()</a>
<a class="sourceLine" id="cb21-44" data-line-number="44">    <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>outlier_amount)</a>
<a class="sourceLine" id="cb21-45" data-line-number="45">    {</a>
<a class="sourceLine" id="cb21-46" data-line-number="46">      start_index &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>START[i]</a>
<a class="sourceLine" id="cb21-47" data-line-number="47">      end_index   &lt;-<span class="st"> </span>OUTLIER_LIST[[ZONEID]]<span class="op">$</span>END[i]</a>
<a class="sourceLine" id="cb21-48" data-line-number="48">      vec &lt;-<span class="st"> </span><span class="kw">c</span>(vec, <span class="op">-</span>start_index<span class="op">:-</span>end_index)</a>
<a class="sourceLine" id="cb21-49" data-line-number="49">    }</a>
<a class="sourceLine" id="cb21-50" data-line-number="50">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data[ vec, ])</a>
<a class="sourceLine" id="cb21-51" data-line-number="51">    <span class="co">#cat("Wind Farm #", ZONEID, "\n", sep="")</span></a>
<a class="sourceLine" id="cb21-52" data-line-number="52">    <span class="co">#print(OUTLIER_LIST[[ZONEID]])</span></a>
<a class="sourceLine" id="cb21-53" data-line-number="53">    <span class="co">#cat("\n")</span></a>
<a class="sourceLine" id="cb21-54" data-line-number="54">  }</a>
<a class="sourceLine" id="cb21-55" data-line-number="55">  <span class="cf">else</span></a>
<a class="sourceLine" id="cb21-56" data-line-number="56">  {</a>
<a class="sourceLine" id="cb21-57" data-line-number="57">    clean_data &lt;-<span class="st"> </span><span class="kw">rbind</span>(clean_data, zone_data)</a>
<a class="sourceLine" id="cb21-58" data-line-number="58">  }</a>
<a class="sourceLine" id="cb21-59" data-line-number="59">}</a>
<a class="sourceLine" id="cb21-60" data-line-number="60"></a>
<a class="sourceLine" id="cb21-61" data-line-number="61">freq24 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb21-62" data-line-number="62">dura24 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb21-63" data-line-number="63"><span class="cf">for</span>(ZONEID <span class="cf">in</span> FarmNo)</a>
<a class="sourceLine" id="cb21-64" data-line-number="64">{</a>
<a class="sourceLine" id="cb21-65" data-line-number="65">freq24[ZONEID] &lt;-<span class="st"> </span><span class="kw">nrow</span>(OUTLIER_LIST[[ZONEID]])[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb21-66" data-line-number="66">dura24[ZONEID] &lt;-<span class="st"> </span><span class="kw">sum</span>(OUTLIER_LIST[[ZONEID]]<span class="op">$</span>LENGTH)</a>
<a class="sourceLine" id="cb21-67" data-line-number="67">}</a>
<a class="sourceLine" id="cb21-68" data-line-number="68"><span class="kw">sum</span>(freq24)</a></code></pre></div>
<pre><code>## [1] 33
</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">sum</span>(dura24)</a></code></pre></div>
<pre><code>## [1] 1551
</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">freq &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, freq24)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">dura &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, dura24)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">freq</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## freq24    1    3    0    1    2    1    3    9   13     0
</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">dura</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## dura24   32  274    0   29   91   34  100  466  525     0
</code></pre>
<h3 id="4-summary">4 Summary</h3>
<p>As summarized below, when we use different consecutive hours as the criteria, we can adjust the conservativeness of the detection results. 48-hour criteria will give the most conservative result. When reducing the number of hours in the criteria, more maintenance events are detected.</p>
<p>In general, we can conclude that:</p>
<blockquote>
<p>Wind farm #9 is most frequently maintained no matter what detection parameters are chosen.</p>
</blockquote>
<blockquote>
<p>Wind farm #8 has the largest maintenance duration no matter what detection parameters are chosen.</p>
</blockquote>
<blockquote>
<p>Wind farm #3 and #10 are never maintained in all the detections.</p>
</blockquote>
<p>Therefore, some suggestion for the wind farm owners include:</p>
<blockquote>
<p>Install new wind turbine generators for wind farm #8 and 9, becasue they may have been used for a long time</p>
</blockquote>
<blockquote>
<p>Other wind farms should learn some operation experience from Wind farm #3 and #10.</p>
</blockquote>
<blockquote>
<p>In general, the maintenance events take too much time. It would be better to improve the maintenance efficiency every time to have more profit.</p>
</blockquote>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">freq &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, freq48, freq36, freq24)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">dura &lt;-<span class="st"> </span><span class="kw">rbind</span>(FarmNo, dura48, dura36, dura24)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">freq</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## freq48    0    2    0    0    1    0    0    4    4     0
## freq36    0    3    0    0    2    0    1    7    7     0
## freq24    1    3    0    1    2    1    3    9   13     0
</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">dura</a></code></pre></div>
<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## FarmNo    1    2    3    4    5    6    7    8    9    10
## dura48    0  232    0    0   54    0    0  285  219     0
## dura36    0  274    0    0   91    0   38  410  343     0
## dura24   32  274    0   29   91   34  100  466  525     0
</code></pre>



</body></html>